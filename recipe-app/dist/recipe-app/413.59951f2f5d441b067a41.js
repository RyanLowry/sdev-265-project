"use strict";(self.webpackChunkrecipe_app=self.webpackChunkrecipe_app||[]).push([[413],{413:(x,f,c)=>{c.r(f),c.d(f,{UserModule:()=>M});var h=c(8583),d=c(2305),a=c(8756);class Z{constructor(s,t,i,o){this.id=s,this.description=i,this.instructions=o,this.name=t}}var e=c(7716),v=c(1312),p=c(5939),T=c(1095),_=c(6627),g=c(3738),u=c(3679);function A(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"mat-card",9),e.TgZ(2,"mat-card-content",10),e.TgZ(3,"h3",11),e._uU(4),e.qZA(),e.TgZ(5,"div",12),e._uU(6),e.qZA(),e.qZA(),e.TgZ(7,"mat-card-actions",13),e.TgZ(8,"button",4),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().goToRecipeBuilder(r.id,r.instructions)}),e._uU(9," View "),e.qZA(),e.TgZ(10,"button",4),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().goToRecipeBuilder(r.id,r.instructions)}),e.TgZ(11,"mat-icon"),e._uU(12,"edit"),e.qZA(),e._uU(13," Edit "),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=s.$implicit;e.xp6(4),e.hij(" ",t.name," "),e.xp6(2),e.hij(" Description: ",t.description," ")}}let C=(()=>{class n{constructor(t,i,o,r){var l,m;this._Activatedroute=t,this._router=i,this.dialog=o,this.server=r,this.user="",this.recipes=[],this._router&&(null===(l=this._router.getCurrentNavigation())||void 0===l?void 0:l.extras.state)&&(this.routeState=null===(m=this._router.getCurrentNavigation())||void 0===m?void 0:m.extras.state,this.routeState&&(this.user=this.routeState.user,localStorage.setItem("username",this.user))),localStorage.getItem("username")&&(this.user=localStorage.getItem("username")||"")}ngOnInit(){this.server.getRecipes({}).then(t=>{var i;if("ok"===t.body.status){console.log(t.body.recipes);for(let o of t.body.recipes)null===(i=this.recipes)||void 0===i||i.push(new Z(o.recipe_id,o.name,o.description,o.instructions))}})}goToRecipeBuilder(t,i){t&&this._router.navigateByUrl("/recipe-builder",{state:{recipeId:t,instructions:i}})}addRecipe(){this.dialog.open(b,{width:"250px",data:{type:"recipe",name:"",description:""}}).afterClosed().subscribe(i=>{null!=i&&this.server.createRecipe({name:i.name,description:i.description}).then(o=>{var r;"ok"===o.body.status&&(console.log(o),null===(r=this.recipes)||void 0===r||r.push(new Z(o.body.recipeId,i.name,i.description)))}).catch(o=>{console.log(o)})})}addChecklist(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.gz),e.Y36(d.F0),e.Y36(a.uw),e.Y36(v.N))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-information"]],decls:16,vars:2,consts:[[1,"user-information"],[1,"user-header"],["label","Recipes"],[1,"user-tab-info"],["mat-raised-button","","color","primary",3,"click"],[1,"recipe-holder"],[4,"ngFor","ngForOf"],["label","Checklists",1,"user-header"],[3,"click"],[1,"recipe-card"],[1,"recipe-info"],[1,"recipe-name"],[1,"recipe-description"],[1,"recipe-buttons"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div"),e.TgZ(2,"h3"),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"mat-tab-group",1),e.TgZ(5,"mat-tab",2),e.TgZ(6,"div",3),e.TgZ(7,"button",4),e.NdJ("click",function(){return i.addRecipe()}),e.TgZ(8,"mat-icon"),e._uU(9,"add"),e.qZA(),e._uU(10," Add Recipe "),e.qZA(),e.TgZ(11,"div",5),e.YNc(12,A,14,2,"div",6),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"mat-tab",7),e.TgZ(14,"button",8),e.NdJ("click",function(){return i.addChecklist()}),e._uU(15," Add Checklist "),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.hij(" Welcome,",i.user," "),e.xp6(9),e.Q6J("ngForOf",i.recipes))},directives:[p.SP,p.uX,T.lW,_.Hw,h.sg,g.a8,g.dn,g.hq],styles:[".recipe-card[_ngcontent-%COMP%]{min-width:500px}.recipe-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.recipe-description[_ngcontent-%COMP%]{margin-bottom:25px}.user-information[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.recipe-holder[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-evenly;height:100%}.user-header[_ngcontent-%COMP%]{height:80vh;display:flex;flex-direction:column;min-width:960px}.user-tab-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:50vh}.user-tab-info[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin-bottom:15px}"]}),n})(),b=(()=>{class n{constructor(t,i){this.dialogRef=t,this.data=i,this.type=""}onNoClick(){this.dialogRef.close()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(a.so),e.Y36(a.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["recipe-creation-dialog"]],decls:11,vars:3,consts:[["matInput","","name","description",3,"ngModel","ngModelChange"],["mat-button","",3,"click"],["mat-button","",3,"mat-dialog-close"]],template:function(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1,"Name:"),e.qZA(),e.TgZ(2,"input",0),e.NdJ("ngModelChange",function(r){return i.data.name=r}),e.qZA(),e.TgZ(3,"p"),e._uU(4,"Description:"),e.qZA(),e.TgZ(5,"input",0),e.NdJ("ngModelChange",function(r){return i.data.description=r}),e.qZA(),e.TgZ(6,"mat-dialog-actions"),e.TgZ(7,"button",1),e.NdJ("click",function(){return i.onNoClick()}),e._uU(8,"No"),e.qZA(),e.TgZ(9,"button",2),e._uU(10,"Yes"),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngModel",i.data.name),e.xp6(3),e.Q6J("ngModel",i.data.description),e.xp6(4),e.Q6J("mat-dialog-close",i.data))},directives:[u.Fj,u.JJ,u.On,a.H8,a.ZT],encapsulation:2}),n})();const U=[{path:"",component:C}];let y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[d.Bz.forChild(U)],d.Bz]}),n})(),M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n,bootstrap:[C]}),n.\u0275inj=e.cJS({imports:[[h.ez,y,p.Nh,u.u5,a.Is]]}),n})()}}]);